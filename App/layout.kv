<DroneMap>:
    canvas.before:
        Color:
            rgba: 0, 0, 0, 0
        Rectangle:
            pos: self.pos
            size: self.size

<VideoContainer@FloatLayout>:
    canvas.before:
        Color:
            rgba: 0.1, 0.1, 0.1, 1
        Rectangle:
            pos: self.pos
            size: self.size

<VideoImage@Image>:
    canvas.before:
        Color:
            rgba: 0, 0, 0, 0
        Rectangle:
            pos: self.pos
            size: self.size

<RoundedButton@Button>:
    background_normal: ''
    size: '120dp', '120dp'
    background_color: (0.3, 0.3, 0.3, 1)
    color: 1, 1, 1, 1
    canvas.before:
        Color:
            rgba: self.background_color
        Rectangle:
            pos: self.pos
            size: self.size
    canvas.after:
        Color:
            rgba: 0.4, 0.4, 0.4, 1
        Line:
            rectangle: (self.x, self.y, self.width, self.height)
            width: 1.0

<DroneCard@BoxLayout>:
    orientation: 'horizontal'
    size_hint_y: None
    height: '80dp'
    spacing: '10dp'
    canvas.before:
        Color:
            rgba: 0.9, 0.9, 0.9, 1
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [10,]

    Image:
        id: image
        source: ''
        size_hint_x: 0.5
        allow_stretch: False
        keep_ratio: True
        canvas.before:
            StencilPush
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [10, 0, 0, 10]
            StencilUse

        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                texture: self.texture
                pos: self.pos
                size: self.size

        canvas.after:
            StencilUnUse
            StencilPop

    BoxLayout:
        id: text_container
        orientation: 'vertical'
        padding: '10dp'
        spacing: '5dp'
        Label:
            id: label
            text: 'DRN-001'
            font_size: '16sp'
            bold: True
            color: 0.2, 0.2, 0.2, 1
        Label:
            id: first
            text: 'Detected at 12:30:15'
            font_size: '12sp'
            color: 0.5, 0.5, 0.5, 1
        Label:
            id: last
            text: 'Last detected at 12:30:15'
            font_size: '12sp'
            color: 0.5, 0.5, 0.5, 1
        Label:
            id: confidence
            text: 'Avg. confidence: 0.00'
            font_size: '12sp'
            color: 0.5, 0.5, 0.5, 1

<TimeHeader@BoxLayout>:
    size_hint_y: None
    height: '30dp'
    spacing: '10dp'
    Label:
        text: 'Playback Control'
        bold: True
        size_hint_x: 0.7
        color: 1, 1, 1, 1
    Label:
        text: app.current_time
        size_hint_x: 0.3
        halign: 'right'
        color: 1, 1, 1, 1

<ControlContainer@BoxLayout>:
    orientation: 'vertical'
    spacing: 10
    padding: 10
    canvas.before:
        Color:
            rgba: 0.2, 0.2, 0.2, 1
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [15,]

<ImageButton@Button>:
    background_normal: ''
    background_down: ''
    background_color: (0, 0, 0, 0)
    border: (0, 0, 0, 0)
    size_hint: (None, None)
    size: '64dp', '64dp'

    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            source: self.background_normal
            pos: self.pos
            size: self.size